# 404 URL Inventory – 11 Nov 2025

Source: Search Console export (`Table.csv`) shared 11 Nov 2025. Total rows: 257.

## High-Level Buckets

- **Locations (~150)** – `https://shalean.co.za/locations/*`, plus several numeric Supabase-style IDs (e.g. `1723406479757x273422380116912000`) and malformed slugs such as `-city-bowl`, `<p><a`, `1oSHSjajNW5Z2...`, etc.
- **Content (~50)** – mix of `/articles/`, `/article_page/`, `/blog/` slugs (e.g. `expert-home-deep-cleaning-services-near-you`, `welcome-to-blog-cms`). Many appear to reference CMS posts that no longer exist or were moved to the new blog instance.
- **Booking flows (18)** – `/booking` root plus query variants (`?service=standard-cleaning`, Supabase IDs, etc.).
- **Services (4)** – `/services/deep-cleaning`, `/services/house-cleaning`, `/services/carpet`, `/services/office-` (note trailing hyphen).
- **Auth & account (4)** – `/auth`, `/auth/sign-up`, `/auth` on `www`, `/account`.
- **Community (4)** – `/community/<id>` slugs; likely Supabase records removed.
- **Legal & policy (5)** – `/legal/terms`, `/legal/privacy`, `/privacy-policy`, `/cookies`, `/popia`.
- **Static asset (1)** – `_next/static/media/inter-latin.woff2`.
- **Misc/encoded (approx. 20)** – base64-like tokens (`/A//4ib50fIh2N/...`), query variants (`/cleaning1`, `/apply?progress=1`, `/cleaning0/address`, `/user/m`, `/&`, `/$`).

Counts are derived with quick PowerShell filters (`Select-String`) and are approximate for overlapping patterns (e.g. an `/articles/` URL containing “cleaning” is only counted once in the content bucket above). Raw export remains at `c:\Users\27825\Downloads\Table.csv`.

## Notable Patterns & Hypotheses

- **Locations**
  - Many slugs correspond to Cape Town suburbs previously generated by the legacy locations builder. Need to confirm if new dynamic routing replaced them (e.g. check `app/locations/[slug]` or CMS collection). Numeric IDs suggest Supabase `locations` table rows that may have been deleted while still linked internally.
  - Several malformed entries indicate bad data in internal link sources (`-city-bowl`, `<p><a`, bare `/locations/`). Need to audit generators and CMS rich-text content.

- **Content**
  - `/articles/` vs `/article_page/` discrepancy hints at route refactor; likely should redirect old slugs to new blog paths under `/blog/*`.
  - Some entries duplicate canonical blog posts but with alternate host (`www.shalean.co.za`). Need host-level 301 or canonical fix.

- **Booking**
  - Query-string versions probably surfaced from marketing links. Ensure booking router handles `service` query or add redirect to canonical wizard.
  - Supabase ID URLs (`/booking/<id>`) likely direct deep-links to booking records; should either restore detail view or 410/redirect to account dashboard.

- **Services**
  - `services/office-` trailing dash suggests slug mismatch; check CMS entry slug vs route file.

- **Auth/account**
  - `/auth` and `/auth/sign-up` should exist; verify Next.js routes under `app/auth/*`. If the new auth flow lives elsewhere, add redirects.

- **Misc Encoded**
  - Base64-like strings likely originate from Supabase signed URLs exposed publicly; confirm they are not linked internally and add disallow/redirect if safe.

## Next Steps

1. Cross-check each bucket against repository routes/CMS entries to decide restore vs redirect vs removal (see plan step 2).
2. Prioritize high-impact buckets (`locations`, `content`, `booking`, `services`) for resolution mapping.
3. For malformed/misc URLs, trace referring pages (Search Console → URL details) to patch the source.


## Resolution Strategy by Bucket

- **Locations**
  - Map `/locations/:slug` legacy paths to the new `/location/{city}/{suburb}` hierarchy. Cape Town suburbs already live under `app/location/cape-town/*`; add explicit redirects (`kalk-bay → /location/cape-town/kalk-bay`, `sea-point → /location/cape-town/sea-point`, etc.) and send numeric Supabase IDs to `/location`.
  - For high-traffic suburbs that no longer have content (`maitland`, `tableview`, `wynberg`, etc.), recreate the page with `components/suburb-page-template.tsx` or redirect to the nearest live hub so users land on relevant information.
  - Update any remaining components/CMS entries emitting `/locations/` links (audit `app/location/page.tsx`, marketing blocks, Supabase rich text) and ensure sitemap output is aligned with the new structure.

- **Services**
  - Restore a dedicated `/services/deep-cleaning` landing page using the current service templates (see `app/services/deep-specialty/page.tsx` for structure).
  - Extend `next.config.js` redirects to cover `/services/office- → /services/office-cleaning` and verify existing rules for `house-cleaning`, `carpet`, and other legacy slugs.
  - Search marketing assets/emails for the old URLs and update them to the live slugs.

- **Booking**
  - Keep `/booking` and `/booking/service` pointing at the wizard (`/booking/service/select`). Add a wildcard redirect for `/booking/:id` historical confirmation links to `/dashboard/bookings` (or `/booking/confirmation` if preferred).
  - Remove legacy flow URLs (`/cleaning/first-step`, `/cleaning0/address`, `/cleaning1`) from navigation, emails, or automations.

- **Content (articles/blog)**
  - Build a redirect map from `/articles/*` and `/article_page/*` slugs to current Supabase blog slugs (pull via `getPublishedPosts()` or maintain a JSON lookup).
  - Recreate cornerstone pieces that are missing from the new CMS (`expert-home-deep-cleaning-services-near-you`, `the-best-cleaning-services-in-cape-town`, `one-time-cleaning-service-costs`, etc.) so redirects land on live content instead of `/blog`.
  - Ensure legacy `/blog/cleaning-frequency`, `/blog/cleaning-mistakes`, and similar slugs either exist or 301 to the closest related article.

- **Auth & Account**
  - Confirm existing redirects (`/auth` → `/login`, `/auth/sign-up` → `/signup`). Add `/account` → `/dashboard` (or `/login` if the user must authenticate first) and retire `/user/m` with a 410 plus cleanup of internal links.

- **Legal & Policy**
  - Create static pages for `/popia` and `/cookies` (clone structure from `app/privacy/page.tsx` with updated copy).
  - Add redirects `/privacy-policy` → `/privacy` and `/refund`, `/shipping` → `/terms`.

- **Community & Misc**
  - If the Supabase “community” module is deprecated, redirect `/community/:id` to a blog category or surface a 410. Track the base64-style URLs (`/A//4ib50fIh2N/...`, `/VgQmG7Ilpx...`) back to their campaign sources and strip them from future content.
  - For stray symbols (`/$`, `/&`), scan CMS and navigation components for broken hrefs and fix them at source; fall back to redirecting to `/`.

- **Static Assets**
  - Restore or repackage the missing font (`_next/static/media/inter-latin.woff2`). If the build pipeline purges hashed assets, move the font into `public/fonts` and load it locally or ensure the CDN path stays stable across deploys.

